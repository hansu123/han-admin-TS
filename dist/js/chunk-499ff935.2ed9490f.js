(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-499ff935"],{"0b58":function(e,t,r){"use strict";function a(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function n(e,t){if(null==e)return{};var r,n,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,"a",(function(){return n}))},2338:function(e,t,r){var a=r("b2f5"),n=r("2e9a"),o=r("3a68"),i=r("acb9"),l=r("f59b");a(a.S,"Object",{getOwnPropertyDescriptors:function(e){var t,r,a=o(e),s=i.f,c=n(a),u={},d=0;while(c.length>d)r=s(a,t=c[d++]),void 0!==r&&l(u,t,r);return u}})},"2e9a":function(e,t,r){var a=r("a891"),n=r("f7c1"),o=r("a013"),i=r("3754").Reflect;e.exports=i&&i.ownKeys||function(e){var t=a.f(o(e)),r=n.f;return r?t.concat(r(e)):t}},"37a6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table-wrapper"},[r("table-toolbar",[r("div",{staticClass:"plain-ct",attrs:{slot:"plain"},slot:"plain"},[r("search-bar",{attrs:{searchData:e.searchConditions},on:{"update:searchData":function(t){e.searchConditions=t},"update:search-data":function(t){e.searchConditions=t}}}),r("el-button-group",[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.handleRefresh}})],1)],1)]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"default-sort":{prop:"ID",order:"descending"}}},[r("el-table-column",{attrs:{label:"ID",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row._id.slice(-4)))])]}}])}),r("el-table-column",{attrs:{label:"类型",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.cate))])]}}])}),r("el-table-column",{attrs:{label:"标题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"wes-1"},[e._v(e._s(t.row.title))])]}}])}),r("el-table-column",{attrs:{label:"创建者",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.creator))])]}}])}),r("el-table-column",{attrs:{label:"负责人",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.name))])]}}])}),r("el-table-column",{attrs:{label:"是否解决",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{placement:"top",width:"200",trigger:"hover",content:t.row.done?"已解决":"未解决"}},[r("el-switch",{attrs:{slot:"reference","active-color":"#13ce66","inactive-color":"#ff4949",disabled:""},slot:"reference",model:{value:t.row.done,callback:function(r){e.$set(t.row,"done",r)},expression:"scope.row.done"}})],1)]}}])}),r("el-table-column",{attrs:{label:"状态",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:e._f("statusTagTypeFilter")(t.row.status)}},[e._v(e._s(e._f("bugStatusFilter")(t.row.status)))])]}}])}),r("el-table-column",{attrs:{label:"截止日期",sortable:"",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e._f("dateFilter")(t.row.deadline)))])]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",disabled:t.row.done},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),r("div",{staticClass:"block"},[e.pagination.total?r("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":e.pagination.pagesizes,"page-size":e.pagination.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),r("my-dialog",{attrs:{title:"新增bug",outerVisible:e.isShowAddDialog},on:{"update:outerVisible":function(t){e.isShowAddDialog=t},"update:outer-visible":function(t){e.isShowAddDialog=t}}},[r("add-form",{ref:"addForm"},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.addForm}},[e._v("确认")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),r("my-dialog",{attrs:{title:"修改bug",outerVisible:e.isShowEditDialog},on:{"update:outerVisible":function(t){e.isShowEditDialog=t},"update:outer-visible":function(t){e.isShowEditDialog=t}}},[r("edit-form",{attrs:{ruleForm:e.rowData}})],1)],1)},n=[],o=r("0b58"),i=(r("63ff"),r("ad3e")),l=r("0ac1"),s=r("7e3e"),c=r("5f71"),u=r("0c46"),d=r("4fc7"),p=r("ace7"),f=r("ae85"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{type:"text",disabled:""},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"分类",prop:"cate"}},[r("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.ruleForm.cate))])],1),r("el-form-item",{attrs:{label:"描述",prop:"description"}},[r("el-input",{attrs:{type:"textarea",rows:2,maxlength:"100",disabled:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),r("el-form-item",{attrs:{label:"创建者",prop:"name"}},[r("el-input",{attrs:{type:"text",inline:"",disabled:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"方案",prop:"done"}},[r("el-radio",{attrs:{label:!1},model:{value:e.ruleForm.done,callback:function(t){e.$set(e.ruleForm,"done",t)},expression:"ruleForm.done"}},[e._v("未解决")]),r("el-radio",{attrs:{label:!0},model:{value:e.ruleForm.done,callback:function(t){e.$set(e.ruleForm,"done",t)},expression:"ruleForm.done"}},[e._v("已解决")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",disabled:!e.ruleForm.done},on:{click:e.handleConfirm}},[e._v("确定")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},b=[],h=r("df54"),g=r("50fb"),v=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.rules={done:[{required:!0,message:"请选择是否解决",trigger:"change"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"handleConfirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,o,i,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.ruleForm.validate;case 2:t=e.sent,t&&(r=this.ruleForm,a=r._id,n=r.done,o={_id:a,done:n},i=function(){l.$bus.$emit("cancel")},n&&this.saveData(this.$API.bugModel.EditBug,o,i));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.$bus.$off("cancel")}}]),t}(Object(g["b"])(h["a"]));Object(p["a"])([Object(g["c"])(Object)],v.prototype,"ruleForm",void 0),v=Object(p["a"])([Object(g["a"])({})],v);var y=v,w=y,O=r("6691"),j=Object(O["a"])(w,m,b,!1,null,"2d742a0d",null),F=j.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"类型",prop:"cate"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.cate,callback:function(t){e.$set(e.ruleForm,"cate",t)},expression:"ruleForm.cate"}},[r("el-option",{attrs:{label:"UI",value:"UI"}}),r("el-option",{attrs:{label:"参数错误",value:"参数错误"}}),r("el-option",{attrs:{label:"逻辑错误",value:"逻辑错误"}})],1)],1),r("el-form-item",{attrs:{label:"描述",prop:"description"}},[r("el-input",{attrs:{type:"textarea",rows:2,maxlength:"100"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),r("el-form-item",{attrs:{label:"创建者",prop:"creator"}},[r("el-input",{attrs:{inline:""},model:{value:e.ruleForm.creator,callback:function(t){e.$set(e.ruleForm,"creator",t)},expression:"ruleForm.creator"}})],1),r("el-form-item",{attrs:{label:"负责人",prop:"name"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}},[r("el-option",{attrs:{label:"hansu",value:"hansu"}}),r("el-option",{attrs:{label:"zhangsan",value:"zhangsan"}})],1)],1),r("el-form-item",{attrs:{label:"截至日期",prop:"deadline"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.ruleForm.deadline,callback:function(t){e.$set(e.ruleForm,"deadline",t)},expression:"ruleForm.deadline"}})],1),e._t("default")],2)],1)},_=[],x=(r("2338"),r("f763"),r("fb37"),r("5bf7"));function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){Object(x["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.ruleForm={cate:"",title:"",description:"",creator:"",deadline:"",name:"",done:!1},e.rules={cate:[{required:!0,message:"类型不能为空"}],title:[{required:!0,message:"标题不能为空"}],description:[{required:!0,message:"描述不能为空"}],creator:[{required:!0,message:"创建者不能为空"}],deadline:[{required:!0,message:"截止日期不能为空"}],name:[{required:!0,message:"负责人不能为空"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"_saveData",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.ruleForm.validate();case 2:if(t=e.sent,r=D({},this.ruleForm),!t){e.next=6;break}return e.abrupt("return",this.saveData(this.$API.bugModel.AddBug,r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.$bus.$off("cancel")}}]),t}(Object(g["b"])(h["a"]));S=Object(p["a"])([Object(g["a"])({})],S);var C=S,P=C,z=Object(O["a"])(P,k,_,!1,null,"05d66121",null),E=z.exports,R=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.searchConditions={page:"bug",cate:"",deadline:""},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"handleDelete",value:function(e,t){console.log(e,t)}},{key:"addForm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.addForm._saveData();case 2:t=e.sent,this.isShowAddDialog=!1,0==t.code&&this.getList(this._getList);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchConditions,t.page,r=Object(o["a"])(t,["page"]),a=this.$lodash.getSearchQueryData(r),e.next=4,this.$API.bugModel.GetList(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSearch",value:function(){this.getList(this._getList)}},{key:"handleRefresh",value:function(){this.getList(this._getList,"refresh")}},{key:"created",value:function(){this.getList(this._getList)}}]),t}(Object(g["b"])(f["a"]));R=Object(p["a"])([Object(g["a"])({components:{EditForm:F,AddForm:E}})],R);var A=R,L=A,I=Object(O["a"])(L,a,n,!1,null,null,null);t["default"]=I.exports},ae85:function(e,t,r){"use strict";r("63ff");var a=r("ad3e"),n=r("0ac1"),o=r("7e3e"),i=r("5f71"),l=r("0c46"),s=r("4fc7"),c=r("ace7"),u=r("50fb"),d=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(i["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.loading=!1,e.list=[],e.pagination={pagesize:10,pagesizes:[10,20,30,40],currentPage:1,total:0},e.isShowEditDialog=!1,e.isShowAddDialog=!1,e.rowData={},e}return Object(s["a"])(t,e),Object(o["a"])(t,[{key:"handleEdit",value:function(e){this.rowData=e,this.isShowEditDialog=!0}},{key:"handleAdd",value:function(){this.isShowAddDialog=!0}},{key:"handleSizeChange",value:function(e){this.pagination.pagesize=e}},{key:"handleCurrentChange",value:function(e){this.pagination.currentPage=e}},{key:"getList",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,t();case 3:return a=e.sent,a.list.length>0?(this.loading=!1,this.list=a.list,this.$set(this.pagination,"total",a.total)):(this.$message({type:"error",message:"暂无数据"}),this.loading=!1,this.list=[],a.hasOwnProperty("total")&&this.$set(this.pagination,"total",a.total)),"refresh"===r&&this.$message({type:"success",message:"已是最新数据"}),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(u["e"]);d=Object(c["a"])([Object(u["a"])({})],d),t["a"]=d},df54:function(e,t,r){"use strict";r("63ff");var a=r("ad3e"),n=r("0ac1"),o=r("7e3e"),i=r("5f71"),l=r("0c46"),s=r("4fc7"),c=r("ace7"),u=r("50fb"),d=function(e){function t(){return Object(n["a"])(this,t),Object(i["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),Object(o["a"])(t,[{key:"saveData",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:function(){},e.next=3,t(r);case 3:return n=e.sent,0===n.code?this.$message({message:"修改成功",type:"success",onClose:function(){a()}}):this.$message({message:"修改失败",type:"error",onClose:function(){a()}}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(u["e"]);d=Object(c["a"])([Object(u["a"])({})],d),t["a"]=d},f59b:function(e,t,r){"use strict";var a=r("ddf7"),n=r("7dea");e.exports=function(e,t,r){t in e?a.f(e,t,n(0,r)):e[t]=r}}}]);
//# sourceMappingURL=chunk-499ff935.2ed9490f.js.map