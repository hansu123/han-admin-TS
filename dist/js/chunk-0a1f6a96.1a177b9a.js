(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a1f6a96"],{"189b":function(e,t,a){},"357d":function(e,t,a){"use strict";var r=a("189b"),n=a.n(r);n.a},b843:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-wrapper"},[a("table-toolbar",[a("div",{staticClass:"plain-ct",attrs:{slot:"plain"},slot:"plain"},[a("div",{staticClass:"search-item"},[a("el-input",{attrs:{placeholder:"输入用户名"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1),a("el-button-group",[a("el-button",{attrs:{type:"primary"}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("添加")])],1)],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.allUserData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"180",align:"center"}}),a("el-table-column",{attrs:{label:"最后登录时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"0.2rem"}},[e._v(e._s(t.row.date))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"identity",label:"用户身份",align:"center"}}),a("el-table-column",{attrs:{prop:"isOnline",label:"在线状态",align:"center"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.isOnline,callback:function(t){e.isOnline=t},expression:"isOnline"}})],1),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":e.pagination.pageSizes,"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("home-dialog",{attrs:{outerVisible:e.isShow},on:{"change-dialog":e.handleDialog}})],1)},n=[],i=(a("63ff"),a("cec5")),l=(a("f763"),a("1abe")),o=a("0ddc"),s=a("65c9"),u=a("c38b"),c=a("117b"),p=a("ace7"),m=a("3617"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"添加用户",visible:e.outerVisible},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),a("el-form-item",{attrs:{label:"确认身份",prop:"region"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.region,callback:function(t){e.$set(e.ruleForm,"region",t)},expression:"ruleForm.region"}},[a("el-option",{attrs:{label:"管理员",value:"manager"}}),a("el-option",{attrs:{label:"普通用户",value:"employee"}})],1)],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-radio",{attrs:{label:"男"}}),a("el-radio",{attrs:{label:"女"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleStatus}},[e._v("取 消")])],1)],1)],1)},g=[],d=a("50fb"),h=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.ruleForm={name:"",email:"",region:"",sex:""},e.rules={name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 8 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],region:[{required:!0,message:"请选择身份",trigger:"change"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}]},e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"handleStatus",value:function(){}},{key:"submitForm",value:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return e.next=3,t.$API.adminModel.addUser(t.ruleForm);case 3:if(r=e.sent,0!=r.code){e.next=8;break}return e.abrupt("return",t.ruleForm);case 8:e.next=12;break;case 10:return t.$message({type:"error",message:"请填写完整信息"}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"resetForm",value:function(e){this.$refs[e].resetFields()}},{key:"onVisibleChange",value:function(e,t){e||this.handleStatus()}}]),t}(d["e"]);Object(p["a"])([Object(d["c"])(Boolean)],h.prototype,"outerVisible",void 0),Object(p["a"])([Object(d["b"])("change-dialog")],h.prototype,"handleStatus",null),Object(p["a"])([Object(d["b"])("change-dialog")],h.prototype,"submitForm",null),Object(p["a"])([Object(d["f"])("outerVisible")],h.prototype,"onVisibleChange",null),h=Object(p["a"])([Object(d["a"])({components:{}})],h);var f=h,v=f,y=a("6691"),k=Object(y["a"])(v,b,g,!1,null,"cdb582fa",null),O=k.exports,x=a("a349"),j=Object(x["a"])("user"),w=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.formInline={user:"",region:""},e.person={},e.isShow=!1,e.isOnline=!0,e.allUserData=[],e.userData=[],e.pagination={total:10,pageSizes:[10,20,30],pageSize:10,layout:"total,size,prev,pager,next,jumper",currentPage:1,pageIndex:1},e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.getUser()}},{key:"handleClick",value:function(e){}},{key:"handleDialog",value:function(e){this.isShow=!1}},{key:"handleEdit",value:function(){alert(1)}},{key:"handleDelete",value:function(){alert(2)}},{key:"addUser",value:function(){this.isShow=!0}},{key:"handleSizeChange",value:function(e){this.pagination.pageSize=e,this.setPage()}},{key:"handleCurrentChange",value:function(e){this.pagination.pageIndex=e,this.setPage()}},{key:"setPage",value:function(){var e=this;this.userData=[];var t=this.pagination.pageSize,a=this.pagination.pageIndex*t,r=(this.pagination.pageIndex-1)*t;this.pagination.total=this.allUserData.length;var n=0;this.allUserData.forEach((function(t,i){i>=r&&i<a&&(e.userData[n]=t,n++)}))}},{key:"getUser",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getUserAction();case 2:e.sent,this.allUserData=this.userList;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(d["e"]);Object(p["a"])([j.Getter("userList")],w.prototype,"userList",void 0),Object(p["a"])([j.Action("getUserAction")],w.prototype,"getUserAction",void 0),w=Object(p["a"])([Object(d["a"])({components:{TableToolbar:m["e"],HomeDialog:O}})],w);var F=w,S=F,C=(a("357d"),Object(y["a"])(S,r,n,!1,null,"4449adde",null));t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-0a1f6a96.1a177b9a.js.map